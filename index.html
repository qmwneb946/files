<!DOCTYPE html>
<!-- saved from url=(0098)file:///Users/kimi/Desktop/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%20-%20Stupid%20Online%20Judge.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<meta name="viewport" content="width=device-width, initial-scale=1">
				<title>文件上传 - Stupid Online Judge</title>

		<script type="text/javascript">uojHome = '/'</script>

		<!-- Bootstrap core CSS -->
		<link type="text/css" rel="stylesheet" href="http://106.14.32.20:17180/css/bootstrap.min.css">
		<!-- Bootstrap theme -->
		<link type="text/css" rel="stylesheet" href="http://106.14.32.20:17180/css/bootstrap-theme.min.css">
		<!-- Custom styles for this template -->
		<link type="text/css" rel="stylesheet" href="http://106.14.32.20:17180/css/soj-theme.css">
		<!-- jQuery (necessary for Bootstrap\'s JavaScript plugins) -->
		<script src="http://106.14.32.20:17180/js/jquery.min.js"></script>
		<!-- jQuery autosize -->
		<script src="http://106.14.32.20:17180/js/jquery.autosize.min.js"></script>		<script type="text/javascript">
			$(document).ready(function() {
				$('textarea').autosize();
			});
		</script>

		<!-- jQuery cookie -->
		<script src="http://106.14.32.20:17180/js/jquery.cookie.min.js"></script>
		<!-- jQuery modal -->
		<script src="http://106.14.32.20:17180/js/jquery.modal.js"></script>
		
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="http://106.14.32.20:17180/js/bootstrap.min.js"></script>
		<!-- Color converter -->
		<script src="http://106.14.32.20:17180/js/color-converter.min.js"></script>
		<!-- soj -->
		<script src="http://106.14.32.20:17180/js/soj.js"></script>
		<!-- readmore -->
		<script src="http://106.14.32.20:17180/js/readmore/readmore.min.js"></script>
		<!-- LAB -->
		<script src="http://106.14.32.20:17180/js/LAB.min.js"></script>
		<!-- UOJ ico -->
		<link rel="shortcut icon" href="http://106.14.32.20:17180/pictures/SOJ.ico">

		
		
		
		
		
		
		
		
		
		
		
		
		
		
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="http://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="http://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

		<script type="text/javascript">
			before_window_unload_message = null;
			$(window).on('beforeunload', function() {
				if (before_window_unload_message !== null) {
					return before_window_unload_message;
				}
			});
		</script>
	</head>
	<body role="document">
		<div class="container theme-showcase" role="main">
						<!-- <div>
				<ul class="nav nav-pills pull-right" role="tablist">
									<li class="dropdown">
						<a href="http://106.14.32.20:17180/file-upload#" data-toggle="dropdown">
							<span class="uoj-username" style="color: rgb(75,175,178)">qmwneb</span> 						</a>
						<ul class="dropdown-menu" role="menu">
							<li role="presentation"><a href="http://106.14.32.20:17180/user/profile/qmwneb">个人信息</a></li>
							<li role="presentation"><a href="http://106.14.32.20:17180/user/msg">私信</a></li>
							<li role="presentation"><a href="http://106.14.32.20:17180/user/system-msg">系统消息</a></li>
															<li role="presentation"><a href="http://106.14.32.20:17180/file-upload">文件上传</a></li>
																				</ul>
					</li>
					<li role="presentation"><a href="http://106.14.32.20:17180/logout?_token=GgWflWlnUom6NW5gr8gGO4u3ywcHoJY0ABcuYeNj4A0snqoq1uN07EjYv1FD">登出</a></li>
								</ul>
				<h1 class="hidden-xs"><a href="http://106.14.32.20:17180/"><img src="http://106.14.32.20:17180/pictures/SOJ_small.png" alt="SOJ Logo" class="img-rounded" style="width: 39px; height: 39px"></a> Stupid Online Judge</h1>
				<h1 class="visible-xs">SOJ</h1>
			</div> -->

			
<!-- 			
			<div class="uoj-content">

<h2>文件上传</h2>

<form action="http://106.14.32.20:17180/file-upload" method="post" class="form-horizontal" id="form-upload" enctype="multipart/form-data"><input type="hidden" name="_token" value="GgWflWlnUom6NW5gr8gGO4u3ywcHoJY0ABcuYeNj4A0snqoq1uN07EjYv1FD"><div id="div-upload">
	<label for="input-upload">选择一个文件</label>
	<input type="file" id="input-upload" name="upload" style="display: none;" onchange="$(&#39;#input-upload_path&#39;).val($(&#39;#input-upload&#39;).val());">
	<div class="input-group bot-buffer-md">
		<input id="input-upload_path" class="form-control" type="text" readonly="readonly">
		<span class="input-group-btn">
			<button type="button" class="btn btn-primary" style="width: 100px; !important" onclick="$(&#39;#input-upload&#39;).click();"><span class="glyphicon glyphicon-folder-open"></span> 浏览</button>
		</span>
	</div>
	<span class="help-block" id="help-upload"></span>
</div><div id="div-filepath" class="form-inline form-group">
	<label class="col-sm-2 control-label">目标路径: </label>
	<div class="bot-buffer-md">
		<label>//</label>
		<select class="form-control" name="rootdir" id="input-rootdir" readonly="readonly">
			<option value="uploads">uploads</option>
		</select>
		<label>/</label>
		<input type="text" class="form-control" name="userdir" id="input-userdir" value="qmwneb" readonly="readonly">
		<label>/</label>
		<input type="text" class="form-control" name="fname" id="input-fname" value="">
		<span class="help-block" id="help-filepath"></span>
	</div>
</div> --><!-- <script>
	$('#input-upload').change(function () {
		var path = $(this).val(), posL = path.lastIndexOf('/'), posR = path.lastIndexOf('\\');
		$('#input-fname').val(path.substr(Math.max(posL, posR) + 1));
	});
</script><div class="text-center"><button type="submit" id="button-submit-upload" name="submit-upload" value="upload" class="btn btn-default">提交</button></div></form><script>
$(document).ready(function() {
	$('#form-upload').submit(function(e) {
		var ok = true;
		$(this).find("input[type='file']").each(function() {
			for (var i = 0; i < this.files.length; i++) {
				if (this.files[i].size > 52428800) {
					$('#div-' + $(this).attr('name')).addClass('has-error');
					$('#help-' + $(this).attr('name')).text('文件大小不能超过 50M');
					ok = false;
				} else {
					$('#div-' + $(this).attr('name')).removeClass('has-error');
					$('#help-' + $(this).attr('name')).text('');
				}
			}
		});
		return ok;
	});
});
</script> -->
<h3>文件列表</h3>
<div id="file-list"><div class="table-responsive"><table class="table table-bordered table-hover table-striped table-text-center"><thead><tr><th>ID</th><th>文件名</th><th>完整路径</th><th>文件大小</th><th>操作</th></tr></thead><tbody><tr><td>1</td><td>代数Part1.pdf</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E4%BB%A3%E6%95%B0Part1.pdf" target="_blank">/uploads/qmwneb/代数Part1.pdf</a></td><td>25.52MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>2</td><td>代数Part2.pdf</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E4%BB%A3%E6%95%B0Part2.pdf" target="_blank">/uploads/qmwneb/代数Part2.pdf</a></td><td>24.22MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>3</td><td>代数Part3.pdf</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E4%BB%A3%E6%95%B0Part3.pdf" target="_blank">/uploads/qmwneb/代数Part3.pdf</a></td><td>24.29MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>4</td><td>代数Part4.pdf</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E4%BB%A3%E6%95%B0Part4.pdf" target="_blank">/uploads/qmwneb/代数Part4.pdf</a></td><td>25.18MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>5</td><td>代数Part5.pdf</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E4%BB%A3%E6%95%B0Part5.pdf" target="_blank">/uploads/qmwneb/代数Part5.pdf</a></td><td>16.20MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>6</td><td>其它.zip</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E5%85%B6%E5%AE%83.zip" target="_blank">/uploads/qmwneb/其它.zip</a></td><td>7.65MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>7</td><td>动态规划.zip</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92.zip" target="_blank">/uploads/qmwneb/动态规划.zip</a></td><td>16.54MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>8</td><td>图论.zip</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E5%9B%BE%E8%AE%BA.zip" target="_blank">/uploads/qmwneb/图论.zip</a></td><td>42.70MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>9</td><td>基础算法.zip</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95.zip" target="_blank">/uploads/qmwneb/基础算法.zip</a></td><td>12.53MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>10</td><td>字符串.zip</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E5%AD%97%E7%AC%A6%E4%B8%B2.zip" target="_blank">/uploads/qmwneb/字符串.zip</a></td><td>10.47MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>11</td><td>数学1.zip</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E6%95%B0%E5%AD%A61.zip" target="_blank">/uploads/qmwneb/数学1.zip</a></td><td>45.96MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>12</td><td>数学2.zip</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E6%95%B0%E5%AD%A62.zip" target="_blank">/uploads/qmwneb/数学2.zip</a></td><td>33.07MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>13</td><td>数据结构.zip</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.zip" target="_blank">/uploads/qmwneb/数据结构.zip</a></td><td>44.74MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>14</td><td>洛谷Part1.pdf</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E6%B4%9B%E8%B0%B7Part1.pdf" target="_blank">/uploads/qmwneb/洛谷Part1.pdf</a></td><td>17.25MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>15</td><td>洛谷Part2.pdf</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E6%B4%9B%E8%B0%B7Part2.pdf" target="_blank">/uploads/qmwneb/洛谷Part2.pdf</a></td><td>18.14MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>16</td><td>洛谷Part3.pdf</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E6%B4%9B%E8%B0%B7Part3.pdf" target="_blank">/uploads/qmwneb/洛谷Part3.pdf</a></td><td>19.06MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>17</td><td>洛谷Part4.pdf</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E6%B4%9B%E8%B0%B7Part4.pdf" target="_blank">/uploads/qmwneb/洛谷Part4.pdf</a></td><td>19.19MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>18</td><td>洛谷Part5.pdf</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E6%B4%9B%E8%B0%B7Part5.pdf" target="_blank">/uploads/qmwneb/洛谷Part5.pdf</a></td><td>4.48MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>19</td><td>计算几何.zip</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95.zip" target="_blank">/uploads/qmwneb/计算几何.zip</a></td><td>19.07MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr><tr><td>20</td><td>题解.zip</td><td><a href="http://106.14.32.20:17180/uploads/qmwneb/%E9%A2%98%E8%A7%A3.zip" target="_blank">/uploads/qmwneb/题解.zip</a></td><td>3.42MiB</td><td><a href="http://106.14.32.20:17180/file-upload#"><span class="glyphicon glyphicon-remove"></span> Delete</a></td></tr></tbody></table></div><div class="text-right text-muted">共 20 个文件</div></div>
<script>
	function soj_file_delete(name, interactive) {
		$.post('/file-upload', {
			delete : name
		}, function (msg) {
			if (interactive) {
				if (msg === 'ok')
					location.reload();
				else
					alert('删除失败！');
			} else {
				if (msg === 'ok')
					console.log('文件 ' + name + ' 删除成功！(请手动刷新页面)');
				else
					console.log('文件 ' + name + ' 删除失败！(错误信息：' + msg + ')');
			}
		});
	}

	$(document).ready(function () {
		$('.click-to-show').click(function (e) {
			var entries = [], list = [
				'uploads/qmwneb'
			];

			e.preventDefault();

			for (var dir of list)
				$.ajax('/file-upload', {
					type : 'POST',
					dataType : 'json',
					async : false,
					data : {
						ls : dir
					},
					success : function (data) {
						for (var f of data) {
							entries.push([f[0], dir + '/' + f[0], '/' + dir + '/' + f[0], f[1]]);
						}
					}
				});

			$('#file-list').long_table(
				entries,
				1,
				'<tr>' + 
					'<th>ID</th>' +
					'<th>' + uojLocale('file name') + '</th>' +
					'<th>' + uojLocale('file complete path') + '</th>' +
					'<th>' + uojLocale('file size') + '</th>' +
					'<th>' + uojLocale('operation') + '</th>' +
				'</tr>',
				function (row, idx) { 
					return $('<tr />').append(
						$('<td>' + (idx + 1) + '</td>')
					).append(
						$('<td>' + row[0] + '</td>')
					).append(
						$('<td />').append(
							$('<a href="' + row[2] + '" target="_blank">' + row[2] + '</a></td>')
						)
					).append(
						$('<td>' + getFileSizeStr(row[3]) + '</td>')
					).append(
						$('<td />').append(
							$('<a href="#"><span class="glyphicon glyphicon-remove"></span> Delete</a>').click(function(e) {
								e.preventDefault();
								if (!confirm("您真的要删除文件 '" + row[1] + "' 吗？")) return;
								soj_file_delete(row[1], true);
							})
						)
					);
				}, {
					get_row_index : true,
					page_len : 100,
					print_after_table : function() {
						return '<div class="text-right text-muted">' + uojLocale("files::n files", entries.length) + '</div>';
					}
				}
			);
		});

		console.log("请使用 soj_file_delete('path/to/file') 来批量删除文件。");
	});
</script>
<!-- 
			</div>
			<div class="uoj-footer">
				<p>
					<a href="http://106.14.32.20:17180/file-upload?locale=zh-cn"><img src="http://106.14.32.20:17180/utility/cn.png" alt="中文"></a> 
					<a href="http://106.14.32.20:17180/file-upload?locale=en"><img src="http://106.14.32.20:17180/utility/gb.png" alt="English"></a>
				</p>

				<ul class="list-inline">
					<li>Stupid Online Judge</li>|<li>version: 7.0-beta.4</li>
				</ul>
				
				<p>Server time: 2025-02-09 13:33:51 | <a href="http://github.com/SOJdevelopers">开源项目</a></p>
			</div>
		</div>
	 -->

</div></body></html>
